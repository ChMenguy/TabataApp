{"ast":null,"code":"import { useEffect, useState } from 'react';\n\nfunction useScript(src) {\n  var _a = useState(src ? 'loading' : 'idle'),\n      status = _a[0],\n      setStatus = _a[1];\n\n  useEffect(function () {\n    if (!src) {\n      setStatus('idle');\n      return;\n    }\n\n    var script = document.querySelector(\"script[src=\\\"\" + src + \"\\\"]\");\n\n    if (!script) {\n      script = document.createElement('script');\n      script.src = src;\n      script.async = true;\n      script.setAttribute('data-status', 'loading');\n      document.body.appendChild(script);\n\n      var setAttributeFromEvent = function (event) {\n        script === null || script === void 0 ? void 0 : script.setAttribute('data-status', event.type === 'load' ? 'ready' : 'error');\n      };\n\n      script.addEventListener('load', setAttributeFromEvent);\n      script.addEventListener('error', setAttributeFromEvent);\n    } else {\n      setStatus(script.getAttribute('data-status'));\n    }\n\n    var setStateFromEvent = function (event) {\n      setStatus(event.type === 'load' ? 'ready' : 'error');\n    };\n\n    script.addEventListener('load', setStateFromEvent);\n    script.addEventListener('error', setStateFromEvent);\n    return function () {\n      if (script) {\n        script.removeEventListener('load', setStateFromEvent);\n        script.removeEventListener('error', setStateFromEvent);\n      }\n    };\n  }, [src]);\n  return status;\n}\n\nexport default useScript;","map":{"version":3,"sources":["../../src/useScript/useScript.ts"],"names":[],"mappings":"AAAA,SAAS,SAAT,EAAoB,QAApB,QAAoC,OAApC;;AAKA,SAAS,SAAT,CAAmB,GAAnB,EAA8B;AACtB,MAAA,EAAA,GAAsB,QAAQ,CAAS,GAAG,GAAG,SAAH,GAAe,MAA3B,CAA9B;AAAA,MAAC,MAAM,GAAA,EAAA,CAAA,CAAA,CAAP;AAAA,MAAS,SAAS,GAAA,EAAA,CAAA,CAAA,CAAlB;;AAEN,EAAA,SAAS,CACP,YAAA;AACE,QAAI,CAAC,GAAL,EAAU;AACR,MAAA,SAAS,CAAC,MAAD,CAAT;AACA;AACD;;AAID,QAAI,MAAM,GAAc,QAAQ,CAAC,aAAT,CAAuB,kBAAe,GAAf,GAAkB,KAAzC,CAAxB;;AAEA,QAAI,CAAC,MAAL,EAAa;AAEX,MAAA,MAAM,GAAG,QAAQ,CAAC,aAAT,CAAuB,QAAvB,CAAT;AACA,MAAA,MAAM,CAAC,GAAP,GAAa,GAAb;AACA,MAAA,MAAM,CAAC,KAAP,GAAe,IAAf;AACA,MAAA,MAAM,CAAC,YAAP,CAAoB,aAApB,EAAmC,SAAnC;AAEA,MAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,MAA1B;;AAIA,UAAM,qBAAqB,GAAG,UAAC,KAAD,EAAa;AACzC,QAAA,MAAM,KAAA,IAAN,IAAA,MAAM,KAAA,KAAA,CAAN,GAAM,KAAA,CAAN,GAAA,MAAM,CAAE,YAAR,CACE,aADF,EAEE,KAAK,CAAC,IAAN,KAAe,MAAf,GAAwB,OAAxB,GAAkC,OAFpC,CAAA;AAID,OALD;;AAOA,MAAA,MAAM,CAAC,gBAAP,CAAwB,MAAxB,EAAgC,qBAAhC;AACA,MAAA,MAAM,CAAC,gBAAP,CAAwB,OAAxB,EAAiC,qBAAjC;AACD,KApBD,MAoBO;AAEL,MAAA,SAAS,CAAC,MAAM,CAAC,YAAP,CAAoB,aAApB,CAAD,CAAT;AACD;;AAKD,QAAM,iBAAiB,GAAG,UAAC,KAAD,EAAa;AACrC,MAAA,SAAS,CAAC,KAAK,CAAC,IAAN,KAAe,MAAf,GAAwB,OAAxB,GAAkC,OAAnC,CAAT;AACD,KAFD;;AAKA,IAAA,MAAM,CAAC,gBAAP,CAAwB,MAAxB,EAAgC,iBAAhC;AACA,IAAA,MAAM,CAAC,gBAAP,CAAwB,OAAxB,EAAiC,iBAAjC;AAGA,WAAO,YAAA;AACL,UAAI,MAAJ,EAAY;AACV,QAAA,MAAM,CAAC,mBAAP,CAA2B,MAA3B,EAAmC,iBAAnC;AACA,QAAA,MAAM,CAAC,mBAAP,CAA2B,OAA3B,EAAoC,iBAApC;AACD;AACF,KALD;AAMD,GAtDM,EAuDP,CAAC,GAAD,CAvDO,CAAT;AA0DA,SAAO,MAAP;AACD;;AAED,eAAe,SAAf","sourceRoot":"","sourcesContent":["import { useEffect, useState } from 'react';\nfunction useScript(src) {\n    var _a = useState(src ? 'loading' : 'idle'), status = _a[0], setStatus = _a[1];\n    useEffect(function () {\n        if (!src) {\n            setStatus('idle');\n            return;\n        }\n        var script = document.querySelector(\"script[src=\\\"\" + src + \"\\\"]\");\n        if (!script) {\n            script = document.createElement('script');\n            script.src = src;\n            script.async = true;\n            script.setAttribute('data-status', 'loading');\n            document.body.appendChild(script);\n            var setAttributeFromEvent = function (event) {\n                script === null || script === void 0 ? void 0 : script.setAttribute('data-status', event.type === 'load' ? 'ready' : 'error');\n            };\n            script.addEventListener('load', setAttributeFromEvent);\n            script.addEventListener('error', setAttributeFromEvent);\n        }\n        else {\n            setStatus(script.getAttribute('data-status'));\n        }\n        var setStateFromEvent = function (event) {\n            setStatus(event.type === 'load' ? 'ready' : 'error');\n        };\n        script.addEventListener('load', setStateFromEvent);\n        script.addEventListener('error', setStateFromEvent);\n        return function () {\n            if (script) {\n                script.removeEventListener('load', setStateFromEvent);\n                script.removeEventListener('error', setStateFromEvent);\n            }\n        };\n    }, [src]);\n    return status;\n}\nexport default useScript;\n//# sourceMappingURL=useScript.js.map"]},"metadata":{},"sourceType":"module"}