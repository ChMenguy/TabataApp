{"ast":null,"code":"import { useEffect, useState } from 'react';\n\nfunction useReadLocalStorage(key) {\n  var readValue = function () {\n    if (typeof window === 'undefined') {\n      return null;\n    }\n\n    try {\n      var item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : null;\n    } catch (error) {\n      console.warn(\"Error reading localStorage key \\u201C\" + key + \"\\u201D:\", error);\n      return null;\n    }\n  };\n\n  var _a = useState(readValue),\n      storedValue = _a[0],\n      setStoredValue = _a[1];\n\n  useEffect(function () {\n    setStoredValue(readValue());\n  }, []);\n  useEffect(function () {\n    var handleStorageChange = function () {\n      setStoredValue(readValue());\n    };\n\n    window.addEventListener('storage', handleStorageChange);\n    window.addEventListener('local-storage', handleStorageChange);\n    return function () {\n      window.removeEventListener('storage', handleStorageChange);\n      window.removeEventListener('local-storage', handleStorageChange);\n    };\n  }, []);\n  return storedValue;\n}\n\nexport default useReadLocalStorage;","map":{"version":3,"sources":["../../src/useReadLocalStorage/useReadLocalStorage.ts"],"names":[],"mappings":"AAAA,SAAS,SAAT,EAAoB,QAApB,QAAoC,OAApC;;AAIA,SAAS,mBAAT,CAAgC,GAAhC,EAA2C;AAGzC,MAAM,SAAS,GAAG,YAAA;AAEhB,QAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AACjC,aAAO,IAAP;AACD;;AAED,QAAI;AACF,UAAM,IAAI,GAAG,MAAM,CAAC,YAAP,CAAoB,OAApB,CAA4B,GAA5B,CAAb;AACA,aAAO,IAAI,GAAI,IAAI,CAAC,KAAL,CAAW,IAAX,CAAJ,GAA6B,IAAxC;AACD,KAHD,CAGE,OAAO,KAAP,EAAc;AACd,MAAA,OAAO,CAAC,IAAR,CAAa,0CAAmC,GAAnC,GAAsC,SAAnD,EAAyD,KAAzD;AACA,aAAO,IAAP;AACD;AACF,GAbD;;AAiBM,MAAA,EAAA,GAAgC,QAAQ,CAAW,SAAX,CAAxC;AAAA,MAAC,WAAW,GAAA,EAAA,CAAA,CAAA,CAAZ;AAAA,MAAc,cAAc,GAAA,EAAA,CAAA,CAAA,CAA5B;;AAGN,EAAA,SAAS,CAAC,YAAA;AACR,IAAA,cAAc,CAAC,SAAS,EAAV,CAAd;AAED,GAHQ,EAGN,EAHM,CAAT;AAKA,EAAA,SAAS,CAAC,YAAA;AACR,QAAM,mBAAmB,GAAG,YAAA;AAC1B,MAAA,cAAc,CAAC,SAAS,EAAV,CAAd;AACD,KAFD;;AAKA,IAAA,MAAM,CAAC,gBAAP,CAAwB,SAAxB,EAAmC,mBAAnC;AAIA,IAAA,MAAM,CAAC,gBAAP,CAAwB,eAAxB,EAAyC,mBAAzC;AAEA,WAAO,YAAA;AACL,MAAA,MAAM,CAAC,mBAAP,CAA2B,SAA3B,EAAsC,mBAAtC;AACA,MAAA,MAAM,CAAC,mBAAP,CAA2B,eAA3B,EAA4C,mBAA5C;AACD,KAHD;AAKD,GAjBQ,EAiBN,EAjBM,CAAT;AAmBA,SAAO,WAAP;AACD;;AAED,eAAe,mBAAf","sourceRoot":"","sourcesContent":["import { useEffect, useState } from 'react';\nfunction useReadLocalStorage(key) {\n    var readValue = function () {\n        if (typeof window === 'undefined') {\n            return null;\n        }\n        try {\n            var item = window.localStorage.getItem(key);\n            return item ? JSON.parse(item) : null;\n        }\n        catch (error) {\n            console.warn(\"Error reading localStorage key \\u201C\" + key + \"\\u201D:\", error);\n            return null;\n        }\n    };\n    var _a = useState(readValue), storedValue = _a[0], setStoredValue = _a[1];\n    useEffect(function () {\n        setStoredValue(readValue());\n    }, []);\n    useEffect(function () {\n        var handleStorageChange = function () {\n            setStoredValue(readValue());\n        };\n        window.addEventListener('storage', handleStorageChange);\n        window.addEventListener('local-storage', handleStorageChange);\n        return function () {\n            window.removeEventListener('storage', handleStorageChange);\n            window.removeEventListener('local-storage', handleStorageChange);\n        };\n    }, []);\n    return storedValue;\n}\nexport default useReadLocalStorage;\n//# sourceMappingURL=useReadLocalStorage.js.map"]},"metadata":{},"sourceType":"module"}