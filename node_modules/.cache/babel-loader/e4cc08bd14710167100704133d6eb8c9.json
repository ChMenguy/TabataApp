{"ast":null,"code":"import { useEffect } from 'react';\nimport { useLocalStorage } from '../useLocalStorage';\nvar COLOR_SCHEME_QUERY = '(prefers-color-scheme: dark)';\n\nfunction useDarkMode(defaultValue) {\n  var getPrefersScheme = function () {\n    if (typeof window !== 'undefined') {\n      return window.matchMedia(COLOR_SCHEME_QUERY).matches;\n    }\n\n    return !!defaultValue;\n  };\n\n  var _a = useLocalStorage('darkMode', getPrefersScheme()),\n      isDarkMode = _a[0],\n      setDarkMode = _a[1];\n\n  useEffect(function () {\n    var handler = function () {\n      return setDarkMode(getPrefersScheme);\n    };\n\n    var matchMedia = window.matchMedia(COLOR_SCHEME_QUERY);\n    matchMedia.addEventListener('change', handler);\n    return function () {\n      matchMedia.removeEventListener('change', handler);\n    };\n  }, []);\n  return {\n    isDarkMode: isDarkMode,\n    toggle: function () {\n      return setDarkMode(function (prev) {\n        return !prev;\n      });\n    },\n    enable: function () {\n      return setDarkMode(true);\n    },\n    disable: function () {\n      return setDarkMode(false);\n    }\n  };\n}\n\nexport default useDarkMode;","map":{"version":3,"sources":["../../src/useDarkMode/useDarkMode.ts"],"names":[],"mappings":"AAAA,SAAS,SAAT,QAA0B,OAA1B;AAEA,SAAS,eAAT,QAAgC,oBAAhC;AAEA,IAAM,kBAAkB,GAAG,8BAA3B;;AASA,SAAS,WAAT,CAAqB,YAArB,EAA2C;AACzC,MAAM,gBAAgB,GAAG,YAAA;AAEvB,QAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AACjC,aAAO,MAAM,CAAC,UAAP,CAAkB,kBAAlB,EAAsC,OAA7C;AACD;;AAED,WAAO,CAAC,CAAC,YAAT;AACD,GAPD;;AASM,MAAA,EAAA,GAA4B,eAAe,CAC/C,UAD+C,EAE/C,gBAAgB,EAF+B,CAA3C;AAAA,MAAC,UAAU,GAAA,EAAA,CAAA,CAAA,CAAX;AAAA,MAAa,WAAW,GAAA,EAAA,CAAA,CAAA,CAAxB;;AAMN,EAAA,SAAS,CAAC,YAAA;AACR,QAAM,OAAO,GAAG,YAAA;AAAM,aAAA,WAAW,CAAX,gBAAW,CAAX;AAA6B,KAAnD;;AACA,QAAM,UAAU,GAAG,MAAM,CAAC,UAAP,CAAkB,kBAAlB,CAAnB;AAEA,IAAA,UAAU,CAAC,gBAAX,CAA4B,QAA5B,EAAsC,OAAtC;AAEA,WAAO,YAAA;AACL,MAAA,UAAU,CAAC,mBAAX,CAA+B,QAA/B,EAAyC,OAAzC;AACD,KAFD;AAID,GAVQ,EAUN,EAVM,CAAT;AAYA,SAAO;AACL,IAAA,UAAU,EAAA,UADL;AAEL,IAAA,MAAM,EAAE,YAAA;AAAM,aAAA,WAAW,CAAC,UAAA,IAAA,EAAI;AAAI,eAAA,CAAA,IAAA;AAApB,OAAW,CAAX;AAA0B,KAFnC;AAGL,IAAA,MAAM,EAAE,YAAA;AAAM,aAAA,WAAW,CAAX,IAAW,CAAX;AAAiB,KAH1B;AAIL,IAAA,OAAO,EAAE,YAAA;AAAM,aAAA,WAAW,CAAX,KAAW,CAAX;AAAkB;AAJ5B,GAAP;AAMD;;AAED,eAAe,WAAf","sourceRoot":"","sourcesContent":["import { useEffect } from 'react';\nimport { useLocalStorage } from '../useLocalStorage';\nvar COLOR_SCHEME_QUERY = '(prefers-color-scheme: dark)';\nfunction useDarkMode(defaultValue) {\n    var getPrefersScheme = function () {\n        if (typeof window !== 'undefined') {\n            return window.matchMedia(COLOR_SCHEME_QUERY).matches;\n        }\n        return !!defaultValue;\n    };\n    var _a = useLocalStorage('darkMode', getPrefersScheme()), isDarkMode = _a[0], setDarkMode = _a[1];\n    useEffect(function () {\n        var handler = function () { return setDarkMode(getPrefersScheme); };\n        var matchMedia = window.matchMedia(COLOR_SCHEME_QUERY);\n        matchMedia.addEventListener('change', handler);\n        return function () {\n            matchMedia.removeEventListener('change', handler);\n        };\n    }, []);\n    return {\n        isDarkMode: isDarkMode,\n        toggle: function () { return setDarkMode(function (prev) { return !prev; }); },\n        enable: function () { return setDarkMode(true); },\n        disable: function () { return setDarkMode(false); },\n    };\n}\nexport default useDarkMode;\n//# sourceMappingURL=useDarkMode.js.map"]},"metadata":{},"sourceType":"module"}